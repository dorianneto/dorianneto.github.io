<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head><meta name="generator" content="Hexo 3.8.0">

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="Engenheiro de Software, palestrante e apaixonado por criar soluções!">
    

    <!--Author-->
    
        <meta name="author" content="Dorian Neto">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="Torne-se um ninja das funções com Early Return">
    

    <!--Open Graph Description-->
    
        <meta property="og:description" content="Engenheiro de Software, palestrante e apaixonado por criar soluções!">
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="Dorian Neto">

    <!--Type page-->
    
        <meta property="og:type" content="article">
    

    <!--Page Cover-->
    
        <meta property="og:image" content="https://dorianneto.com.br/assets/img/torne-se-um-ninja-das-funcoes-com-early-return-thumbnail.jpg">
    

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@doriansneto">

    <!-- Title -->
    
    <title>Torne-se um ninja das funções com Early Return - Dorian Neto</title>

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Custom Fonts -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css" rel="stylesheet" type="text/css">
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdn.rawgit.com/noelboss/featherlight/1.3.5/release/featherlight.min.css" type="text/css" rel="stylesheet">

    <!-- Google Analytics -->
    
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-58753308-1', 'auto');
        ga('send', 'pageview');

    </script>



    
        <script src="https://cdn.onesignal.com/sdks/OneSignalSDK.js" async></script>
        <script>
            var OneSignal = window.OneSignal || [];
            OneSignal.push(function() {
                OneSignal.init({
                    appId: "549ca0b4-bdfa-499f-a3b6-c4b809c8da0c",
                });
            });
        </script>
    

</head>

<body>
    <a href="#" class="anchor-top animated"><i class="fa fa-arrow-up" aria-hidden="true"></i></a>

    <!-- Menu -->
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">home</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                
                    <li>
                        <a href="/sobre">
                            
                                Sobre
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/palestras">
                            
                                Palestras
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/projetos">
                            
                                Projetos
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="https://github.com/dorianneto">
                            
                                <i class="fa fa-github fa-stack-2x"></i>
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="https://twitter.com/doriansneto">
                            
                                <i class="fa fa-twitter fa-stack-2x"></i>
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="https://www.linkedin.com/in/dorianneto">
                            
                                <i class="fa fa-linkedin fa-stack-2x"></i>
                            
                        </a>
                    </li>
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>

    <!-- Main Content -->
    <!-- Page Header -->
<!-- Set your background image for this header in your post front-matter: cover -->

<header class="intro-header" style="background-image: url('/assets/img/torne-se-um-ninja-das-funcoes-com-early-return.jpg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading animated fadeIn">
                    <h1>Torne-se um ninja das funções com Early Return</h1>
                    
                    
                    <span class="meta">
                        <!-- Date and Author -->
                        
                        16-01-2018
                    </span>
                    
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

            <!-- Tags and categories -->
           
                <div class="col-lg-4 col-lg-offset-2 col-md-5 col-md-offset-1 post-tags">
                    
                        


<a href="/palavra-chave/php/">#php</a> <a href="/palavra-chave/refatoracao/">#refatoração</a> <a href="/palavra-chave/boas-praticas/">#boas práticas</a> <a href="/palavra-chave/early-return/">#early return</a>


                    
                </div>
                <div class="col-lg-4 col-md-5 post-categories">
                    
                        

<a href="/categoria/boas-praticas/">boas práticas</a>

                    
                </div>
            

            <!-- Gallery -->
            

            <!-- Post Main Content -->
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <p>Escrever código elegante e legível é um dos nossos objetivos diariamente, porém, infelizmente isso não ocorre na maioria das vezes. Pressão para entrega de features, cansaço etc, são alguns dos vários fatores que podem contribuir para que esse objetivo não seja alcançado.</p>
<p>Ao longo dos anos, diversos conceitos de boas práticas foram documentados e quando aplicados em nosso dia a dia facilitam conquistar esse objetivo.</p>
<p>Hoje quero abordar um conceito que irá te transformar em um ninja das funções, fazendo com que seu código fique mais rápido (like a ninja!), legível e fácil de manter!</p>
<h2 id="Early-Return-Conceito-e-Beneficios"><a href="#Early-Return-Conceito-e-Beneficios" class="headerlink" title="Early Return: Conceito e Benefícios"></a>Early Return: Conceito e Benefícios</h2><p>O princípio deste conceito diz que você deve se preocupar em <strong>retornar o resultado da função o quanto antes</strong>, ou seja, você irá estruturar o código da função de forma que retorne o mais rápido possível o valor esperado.</p>
<p>E quais são os benefícios para o código?</p>
<ul>
<li>Aumento da legibilidade;</li>
<li>Aumento da performance;</li>
<li>Facilita a manutenção;</li>
<li>Previne Bugs;</li>
</ul>
<h2 id="Quero-ver-isso-na-pratica"><a href="#Quero-ver-isso-na-pratica" class="headerlink" title="Quero ver isso na prática!"></a>Quero ver isso na prática!</h2><p>Irei utilizar o código abaixo (retirado da lib de integração em PHP do <a href="https://github.com/pagseguro/php" target="_blank" rel="noopener">pagseguro</a>) como exemplo para entendermos na prática a aplicação do conceito.</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">formatDate</span><span class="params">($date)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    $format = DateTime::ATOM;</span><br><span class="line">    <span class="keyword">if</span> ($date <span class="keyword">instanceof</span> DateTime) &#123;</span><br><span class="line">        $d = $date-&gt;format($format);</span><br><span class="line">    &#125; <span class="keyword">elseif</span> (is_numeric($date)) &#123;</span><br><span class="line">        $d = date($format, $date);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        $d = (string) $date;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> $d;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Apesar de não ser um código tão complexo, sua legibilidade fica um pouco prejudicada devido ao uso do <code>else if</code> e <code>else</code>, podendo também refletir de forma prejudicial na manutenção.</p>
<p><em>Existe muita discussão sobre a utilização de else if e else. Eu particularmente evito utilizar pois acho que não traz legibilidade para o código. Além disso, na maioria das vezes a utilização abre portas para o uso de outras condições aninhadas, o que pode prejudicar ainda mais a legibilidade e manutenabilidade do código. Claro que existem momentos que é necessário a utilização, mas evito sempre que posso.</em></p>
<p>“E como podemos melhorar?”</p>
<p>Aplicando o conceito do Early Return no código obteremos o seguinte resultado:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">formatDate</span><span class="params">($date)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    $format = DateTime::ATOM;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> ($date <span class="keyword">instanceof</span> DateTime) &#123;</span><br><span class="line">        <span class="keyword">return</span> $date-&gt;format($format);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (is_numeric($date)) &#123;</span><br><span class="line">        <span class="keyword">return</span> date($format, $date);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (string) $date;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Removendo o <code>else if</code> e <code>else</code> conseguimos aumentar a legibilidade do código, e logo depois, aplicamos o conceito de Early Return, estruturando o código de forma que retorne o mais rápido possível o valor esperado. Com isso, conseguimos melhorar também a manutenabilidade do código e, consequentemente, prevenimos possíveis bugs.</p>
<p>“Blz, o ganho na legibilidade e manutenabilidade eu entendi, mas onde entra o ganho de performance?”</p>
<p>No código não refatorado a execução iria passar pelas condições com o intuito de encontrar o valor correto e apenas no final da função seria retornado o mesmo. Já no código refatorado nós acabamos com esse problema, pois nos preocupamos em retornar o resultado da função o quanto antes, ou seja, se a primera condição for aceita, retornamos o valor que condiz com a condição e finalizamos a execução da função.</p>
<h2 id="Conclusao"><a href="#Conclusao" class="headerlink" title="Conclusão"></a>Conclusão</h2><p>Utilizei um exemplo curto de código e de baixa complexidade, mas imagina isso aplicado em um software robusto.</p>
<p>Apesar de ser um conceito bem simples, quando aplicado em nossos hábitos de codificação, podemos ter um resultado bem satisfatório!</p>
<p>Utilize essa técnica no seu dia a dia e me conte nos comentários seus resultados!</p>

            </div>

            <!-- Comments -->
            
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    
    <hr>
    <h3>Comentários:</h3>
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>



                </div>
            
        </div>
    </div>
</article>

    <!-- Footer -->
    <hr>

<!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    
                        <li>
                            <a href="https://twitter.com/doriansneto" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    
                        <li>
                            <a href="https://www.facebook.com/doriansampaioneto" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    
                        <li>
                            <a href="https://github.com/dorianneto" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    
                        <li>
                            <a href="https://www.linkedin.com/in/dorianneto" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    
                        <li>
                            <a href="mailto:doriansampaioneto@gmail.com" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-envelope-o fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    
                </ul>
                <p class="copyright text-muted">Original Theme <a target="_blank" href="http://startbootstrap.com/template-overviews/clean-blog/">Clean Blog</a> from <a href="http://startbootstrap.com/" target="_blank">Start Bootstrap</a></p>
                <p class="copyright text-muted">Adapted for <a target="_blank" href="https://hexo.io/">Hexo</a> by <a href="http://www.codeblocq.com/" target="_blank">Jonathan Klughertz</a></p>
            </div>
        </div>
    </div>
</footer>


    <!-- After footer scripts -->
    
<!-- jQuery -->
<script src="/js/jquery.min.js"></script>

<!-- Bootstrap -->
<script src="/bootstrap/js/bootstrap.min.js"></script>

<!-- App -->
<script src="/js/app.js"></script>

<!-- Gallery -->
<script src="//cdn.rawgit.com/noelboss/featherlight/1.3.5/release/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Disqus Comments -->

<script type="text/javascript">
    var disqus_shortname = 'dorianneto';

    (function(){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>


    
        <!-- Go to www.addthis.com/dashboard to customize your tools -->
        <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-54c1374b3b5ec2f9"></script>
    
</body>

</html>